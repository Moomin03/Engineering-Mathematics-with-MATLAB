x = sym('x');
y = (x+2)^2*(x^2-1)^3;
diff(y)
x = sym('x');
y = (x^2+1)^2/(x^2+2);
diff(y)